{% extends 'base.html' %}  <!-- if you're using a base template -->
{% load static %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">

{% block title %}New Product{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Product Form</h2>
    <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
        {% csrf_token %}
        
        <!-- Render errors at the top -->
        {% if form.errors %}
        <div class="alert alert-danger">
            Please correct the errors below.
        </div>
        {% endif %}
        
        <div class="row">
            <!-- Left Column -->
            <div class="col-md-6">
                <div class="form-group">
                    <label for="{{ form.sku.id_for_label }}">SKU*</label>
                    {{ form.sku }}
                    <small class="form-text text-muted">Unique product identifier</small>
                    {{ form.sku.errors }}
                </div>
                
                <div class="form-group">
                    <label for="{{ form.product_name.id_for_label }}">Product Name*</label>
                    {{ form.product_name }}
                    {{ form.product_name.errors }}
                </div>
                
                <div class="form-group">
                    <label for="{{ form.description.id_for_label }}">Description*</label>
                    {{ form.description }}
                    {{ form.description.errors }}
                </div>
                
                <div class="form-group">
                    <label for="{{ form.product_image.id_for_label }}">Product Image</label>
                    {{ form.product_image }}
                    {{ form.product_image.errors }}
                </div>
                
                <div class="form-group">
                    <label for="{{ form.manufacturer.id_for_label }}">Manufacturer*</label>
                    {{ form.manufacturer }}
                    {{ form.manufacturer.errors }}
                </div>
            </div>
            
            <!-- Right Column -->
            <div class="col-md-6">
                <div class="form-group">
                    <label for="{{ form.weight.id_for_label }}">Weight (grams)</label>
                    {{ form.weight }}
                    {{ form.weight.errors }}
                </div>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="{{ form.length.id_for_label }}">Length (cm)</label>
                            {{ form.length }}
                            {{ form.length.errors }}
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="{{ form.width.id_for_label }}">Width (cm)</label>
                            {{ form.width }}
                            {{ form.width.errors }}
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="{{ form.barcode.id_for_label }}">Barcode</label>
                    {{ form.barcode }}
                    {{ form.barcode.errors }}
                </div>
                
                <div class="form-group">
                    <label for="{{ form.product_type.id_for_label }}">Product Type</label>
                    {{ form.product_type }}
                    {{ form.product_type.errors }}
                </div>
                
                <div class="form-group">
                    <label for="{{ form.unit_price.id_for_label }}">Unit Price*</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">$</span>
                        </div>
                        {{ form.unit_price }}
                    </div>
                    {{ form.unit_price.errors }}
                </div>
                
                <div class="form-group">
                    <label for="{{ form.status.id_for_label }}">Status</label>
                    {{ form.status }}
                    {{ form.status.errors }}
                </div>
            </div>
        </div>
        
        <!-- Full-width fields -->
        <div class="form-group">
            <label for="{{ form.tags.id_for_label }}">Tags</label>
            {{ form.tags }}
            <small class="form-text text-muted">Comma-separated tags</small>
            {{ form.tags.errors }}
        </div>
        
        <div class="form-group">
            <label for="{{ form.category.id_for_label }}">Category</label>
            {{ form.category }}
            {{ form.category.errors }}
        </div>
        
        <div class="form-group">
            <label>Collections</label>
            {{ form.collection_products }}
            {{ form.collection_products.errors }}
        </div>
        
        <button type="submit" class="btn btn-primary">Save Product</button>
    </form>
</div>
{% endblock %}